name: üé≠ Stg
on:
  push:
    branches:
      - master
    paths-ignore:
      - 'package.json'
      - 'CHANGELOG.md'
jobs:
  bump-version:
    name: üê™ Bump Version
    runs-on: ubuntu-latest
    steps:
      - name: Dump GitHub context
        env:
          GITHUB_CONTEXT: ${{ toJson(github) }}
        run: |
          echo "$GITHUB_CONTEXT"
      - id: update_worksheet
        uses: jroehl/gsheet.action@release # you can specify '@release' to always have the latest changes
        with:
          spreadsheetId: 1siX2TNQ6FurgW60yKL0av1mONZi1eVYhb6oeuAWHdrc
          commands: |
            [
              {
                "command": "appendData",
                "args": { 
                  "data": [
                    [
                      "AssertionError: Timed out retrying after 35000ms: Expected to find element: `[data-test=journeyTodso]`, but never found it.\n    at Context.eval (http://localhost:3000/__cypress/tests?p=integration\\ace\\assessment\\04.florida-knowledge-exam.js:144:31)",
                      "2023-07-20T14:38:57.729Z","integration/ace/assessment/04.florida-knowledge-exam.js",
                      "Verify Florida Knowledge Exam purchase page appears",
                      "Florida knowledge exam purchase and test rules"
                    ],
                    [
                      "AssertionError: Timed out retrying after 35000ms: Expected to find element: `[data-test=journeyTodso]`, but never found it.\n    at Context.eval (http://localhost:3000/__cypress/tests?p=integration\\ace\\assessment\\08.in-person-proctored-exam.js:156:29)",
                      "2023-07-20T14:40:16.944Z",
                      "integration/ace/assessment/08.in-person-proctored-exam.js",
                      "Verify the proctor page is displayed and it is possible to go back",
                      "In Person Proctored Exam"
                    ]
                  ],
                  "worksheetTitle": "Sheet4",
                  "minCol": 1
                }
              }
            ]
        env:
          GSHEET_CLIENT_EMAIL: ${{ secrets.GSHEET_CLIENT_EMAIL }}
          GSHEET_PRIVATE_KEY: ${{ secrets.GSHEET_PRIVATE_KEY }}
